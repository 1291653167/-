(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-detail-order-detail"],{"0413":function(t,e,i){var a=i("11ee");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("57ecfb06",a,!0,{sourceMap:!1,shadowMode:!1})},"11ee":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* COOL-UNI 颜色变量 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.page[data-v-8cf810e2]{width:100%;height:100%;padding-bottom:%?76?%}.page .ord-status[data-v-8cf810e2]{height:%?240?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background-color:#4cd964;color:#fff}.page .ord-status .icon[data-v-8cf810e2]{font-size:%?60?%;border:1px solid #fff;border-radius:50%;padding:%?25?%}.page .ord-status .order-text[data-v-8cf810e2]{margin-top:%?20?%}.page .address[data-v-8cf810e2]{background:#fff url(/static/address-line.png);background-repeat-y:no-repeat;background-position:bottom;background-size:64px 5px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?16?% %?32?%;font-size:%?28?%}.page .address .info[data-v-8cf810e2]{padding-bottom:%?10?%}.page .address .info .content[data-v-8cf810e2]{color:#333;font-weight:700}.page .address .info .detail[data-v-8cf810e2]{color:#666}.page .box[data-v-8cf810e2]{background-color:#fff;margin:%?32?% 0;border-radius:%?24?%;padding:0 %?16?%}.page .box .box-header[data-v-8cf810e2]{padding:%?16?% 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.page .box .box-header .icon[data-v-8cf810e2]{font-size:%?28?%}.page .box .box-header .icon-dianpu[data-v-8cf810e2]{font-size:%?40?%;margin-right:%?10?%}.page .box .box-header .store-title[data-v-8cf810e2]{font-size:%?28?%}.page .box .product[data-v-8cf810e2]{margin-bottom:%?32?%}.page .box .product .product-info[data-v-8cf810e2]{margin-top:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.page .box .product .product-info .info[data-v-8cf810e2]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1}.page .box .product .product-info .image[data-v-8cf810e2]{width:%?150?%;height:%?150?%;border-radius:%?24?%;overflow:hidden;-webkit-flex-shrink:0;flex-shrink:0}.page .box .product .product-info .image uni-image[data-v-8cf810e2]{width:100%;height:100%}.page .box .product .product-info .content[data-v-8cf810e2]{margin-left:%?10?%}.page .box .product .product-info .content .title[data-v-8cf810e2]{width:%?440?%;font-size:%?28?%}.page .box .product .product-info .content .sku[data-v-8cf810e2]{padding-top:%?20?%;font-size:%?26?%}.page .box .product .product-info .num[data-v-8cf810e2]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:%?28?%;color:#999}.page .box .product .product-price[data-v-8cf810e2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;font-size:%?30?%}.page .box .cell .label[data-v-8cf810e2]{font-size:%?28?%;width:70px}.page .box .cell .content[data-v-8cf810e2]{text-align:right;font-size:%?24?%;color:#999}.page .fix-bar[data-v-8cf810e2]{position:fixed;bottom:0;left:0;right:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;background-color:#fff;padding:0 %?32?%;height:%?88?%;border-top:1px solid #f8f8f8}.page .fix-bar .price[data-v-8cf810e2]{font-size:%?36?%;color:#e13130;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1}.page .fix-bar uni-button[data-v-8cf810e2]{background-color:#e13031;height:%?64?%;line-height:%?64?%;margin:%?4?% %?10?%;font-size:%?28?%;color:#fff}.page .popup .mask[data-v-8cf810e2]{position:absolute;left:0;top:0;bottom:0;right:0;background-color:rgba(0,0,0,.3);z-index:10000}.page .popup .popup-content[data-v-8cf810e2]{position:fixed;background:#fff;bottom:0;z-index:100001;left:0;reght:0;border-top-left-radius:%?24?%;border-top-right-radius:%?24?%;width:100%}.page .popup .popup-content .close[data-v-8cf810e2]{position:absolute;color:#ccc;font-size:%?48?%;right:%?32?%;top:%?32?%}.page .popup .popup-content .popup-header[data-v-8cf810e2]{margin:%?32?%}.page .popup .popup-content .popup-body[data-v-8cf810e2]{margin:%?60?% %?32?% %?32?% %?32?%}.page .popup .popup-content .popup-body .cancel[data-v-8cf810e2]{width:100%;height:%?200?%;border:1px solid #f8f8f8}.page .popup .popup-content .popup-footer[data-v-8cf810e2]{margin:%?32?%}.page .popup .popup-content .popup-footer .btn[data-v-8cf810e2]{background-color:#e13031;color:#fff;border-radius:%?120?%}',""]),t.exports=e},"35df":function(t,e,i){"use strict";var a=i("0413"),s=i.n(a);s.a},4778:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[t.tag?i("v-uni-view",[i("v-uni-view",{staticClass:"ord-status"},[i("v-uni-text",{staticClass:"icon icon-order"}),i("v-uni-text",{staticClass:"order-text"},[t._v(t._s(t._f("statusText")(t.detail.status)))])],1),i("v-uni-view",{staticClass:"address"},[i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"content"},[t.detail.address?i("v-uni-text",[t._v(t._s(t.detail.address.name))]):t._e(),t.detail.address?i("v-uni-text",[t._v(t._s(t._f("VisibileTel")(t.detail.address.tel)))]):t._e()],1),t.detail.address?i("v-uni-view",{staticClass:"detail"},[t._v(t._s(t.detail.address.addr_text)+t._s(t.detail.address.detail))]):t._e()],1),i("v-uni-view",{staticClass:"more"},[i("v-uni-text",{staticClass:"icon icon-pull-left"})],1)],1),i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"box-header"},[i("v-uni-text",{staticClass:"icon icon-store"}),i("v-uni-text",{staticClass:"store-title"},[t._v("商城专营店")]),i("v-uni-text",{staticClass:"icon icon-pull-left"})],1),t._l(t.detail.goods,(function(e){return i("v-uni-view",{key:e.goods_id,staticClass:"product"},[i("v-uni-view",{staticClass:"product-info"},[i("v-uni-view",{staticClass:"image"},[i("v-uni-image",{attrs:{src:e.img,mode:""}})],1),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"title line-3"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"sku"},[t._v(t._s(e.attr))])],1),i("v-uni-view",{staticClass:"num"},[t._v("x"+t._s(e.num))])],1),i("v-uni-view",{staticClass:"product-price"},[i("v-uni-text",[t._v("￥"+t._s(e.price))])],1)],1)})),i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("配送时效")]),i("v-uni-view",{staticClass:"content"},[t._v("按时配送")])],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("退还无忧")]),i("v-uni-view",{staticClass:"content"},[t._v("自签收后7天内退货，15天内换货，可免费享1次上门取件服务")])],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("备注")]),i("v-uni-view",{staticClass:"content"},[t._v(t._s(t.detail.desc||"无"))])],1)],2),i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("商品金额")]),i("v-uni-view",{staticClass:"content"},[t._v("￥"+t._s(t.detail.base_money))])],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("运费")]),i("v-uni-view",{staticClass:"content"},[t._v("￥"+t._s(t.detail.shipping))])],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("促销立减")]),i("v-uni-view",{staticClass:"content"},[t._v("￥"+t._s(t.detail.reduction))])],1)],1),i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("发票")]),i("v-uni-view",{staticClass:"content"},[t._v("不开发票")])],1)],1),i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("下单时间")]),i("v-uni-view",{staticClass:"content"},[t._v(t._s(t._f("time")(t.detail.add_time)))])],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("订单编号")]),i("v-uni-view",{staticClass:"content"},[t._v(t._s(t.detail.order_sn))])],1)],1),1!=t.detail.status&&8!=t.detail.status?i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("付款金额")]),i("v-uni-view",{staticClass:"content"},[t._v("￥"+t._s(t.detail.all_amount))])],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("支付方式")]),i("v-uni-view",{staticClass:"content"},[t._v("花呗")])],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("付款时间")]),i("v-uni-view",{staticClass:"content"},[t._v("2021年5月28日 15:30")])],1)],1):t._e(),i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("物流")]),i("v-uni-view",{staticClass:"content"},[t._v(t._s(t._f("ExpressText")(t.detail.express_com)))])],1),i("v-uni-view",{staticClass:"cell"},[i("v-uni-view",{staticClass:"label"},[t._v("物流单号")]),i("v-uni-view",{staticClass:"content"},[t._v(t._s(t.detail.express_no))])],1)],1),i("v-uni-view",{staticClass:"fix-bar"},[i("v-uni-text",[t._v("共计:")]),i("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(t.detail.all_amount))]),1==t.detail.status?i("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pay.apply(void 0,arguments)}}},[t._v("去付款")]):t._e(),1==t.detail.status?i("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v("取消订单")]):t._e(),2==t.detail.status?i("v-uni-button",{staticClass:"btn ",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.faHuo.apply(void 0,arguments)}}},[t._v("去发货")]):t._e(),3==t.detail.status?i("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.wuliu.apply(void 0,arguments)}}},[t._v("查看物流")]):t._e(),3==t.detail.status?i("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shouhuo.apply(void 0,arguments)}}},[t._v("收货确认")]):t._e(),6==t.detail.status?i("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.to("/pages/evaluate/evaluate?orderId="+t.detail._id+"&goods_id="+t.detail.goods[0].goods_id)}}},[t._v("去评价")]):t._e(),8==t.detail.status?i("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delOrder.apply(void 0,arguments)}}},[t._v("删除订单")]):t._e()],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],staticClass:"popup"},[i("v-uni-view",{staticClass:"mask"}),i("v-uni-view",{staticClass:"popup-content"},[i("v-uni-text",{staticClass:"close icon icon-cuowu",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPopup=!1}}}),i("v-uni-view",{staticClass:"popup-header"},[i("v-uni-text",[t._v("请说明取消原因")])],1),i("v-uni-view",{staticClass:"popup-body"},[i("v-uni-textarea",{staticClass:"cancel",attrs:{value:"",placeholder:""},model:{value:t.cancel_text,callback:function(e){t.cancel_text=e},expression:"cancel_text"}})],1),i("v-uni-view",{staticClass:"popup-footer"},[i("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelOrder.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1):t._e()],1)},n=[]},"6b82":function(t,e,i){"use strict";i.r(e);var a=i("be2d"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},"7dbc":function(t,e,i){"use strict";i.r(e);var a=i("4778"),s=i("6b82");for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("35df");var o,c=i("f0c5"),l=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"8cf810e2",null,!1,a["a"],o);e["default"]=l.exports},be2d:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={1:"待付款",2:"待发货",3:"待收货",6:"待评价",7:"已完成",8:"已取消"},s={HTKY:"百世快递",STO:"申通快递",YTO:"圆通快递",HHTT:"天天快递"},n={data:function(){return{order_status:0,id:"",detail:"",tag:0,showPopup:!1,cancel_text:""}},onLoad:function(t){this.id=t.id,this.getOrderDetail()},filters:{statusText:function(t){return a[t]},ExpressText:function(t){return s[t]},time:function(t){var e=new Date(t),i=e.getMinutes(),a=e.getMonth()+1;return a<10&&(a="0"+a),i<10&&(i="0"+i),e.getFullYear()+"年"+a+"月"+e.getDate()+"日 "+e.getHours()+":"+i+":"+e.getSeconds()}},methods:{getOrderDetail:function(){var t=this,e=this.$store.getters.uid;if(!e)return this.toast("请登录"),void this.to("/pages/public/login");var i=this.id;this.$api.getOrderDetail({orderId:i,uid:e}).then((function(e){console.log(e),t.detail=e.data[0],t.tag=1}))},cancel:function(){this.showPopup=!0},cancelOrder:function(){var t=this,e=this.id,i=this.cancel_text;""!=i?this.$api.cancalOrder({orderId:e,cancel_text:i}).then((function(e){console.log(e),1==e.code&&(t.showPopup=!1,t.getOrderDetail())})):this.toast("请填写取消原因")},delOrder:function(){var t=this,e=this.id;uni.showModal({title:"消息提示",content:"您确定要删除吗",success:function(){t.$api.delOrder({orderId:e}).then((function(e){console.log(e),t.getOrderDetail()}))}})},pay:function(){var t=this,e=this.id;this.$api.payTest({orderId:e}).then((function(e){console.log(e),1==e.code&&t.getOrderDetail()}))},faHuo:function(){var t=this,e=this.id,i="STO",a="123645";this.$api.expressSend({orderId:e,express_com:i,express_no:a}).then((function(e){console.log(e),t.getOrderDetail()}))},shouhuo:function(){var t=this,e=this.id;this.$api.shouhuo({orderId:e}).then((function(e){1==e.code&&t.getOrderDetail()}))},wuliu:function(){this.to("/pages/Express/Express?express_com="+this.detail.express_com+"&express_no="+this.detail.express_no)}}};e.default=n}}]);