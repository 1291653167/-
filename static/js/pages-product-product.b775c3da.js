(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-product-product"],{"07b2":function(t,e,i){"use strict";i("7db0"),i("4160"),i("a15b"),i("d81d"),i("d3b7"),i("159b"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{goods_id:"",data:{},comment:[],commentCount:0,sku:{},showPopup:!1,is_fav:0,type:"",num:1}},onLoad:function(t){this.goods_id=t.id,this.getDetail(),this.getcomment()},methods:{goCart:function(){uni.switchTab({url:"/pages/cart/cart"})},buy:function(){var t=this,e=this.data,i=e._id,a=e.name,n=e.price,o=e.img,s=this.$store.getters.uid;if(!s)return this.toast("请先登陆"),void(this.showPopup=!1);var c=this.type,r=this.num,u="暂无规格"==this.sku.text.join()?"":this.sku.text.join();this.$api.addCart({name:a,price:n,img:o,type:c,num:r,attr:u,uid:s,goods_id:i}).then((function(e){1==e.code?"buy"==t.type?t.to("/pages/create-order/create-order"):(t.toast("加入购物车成功","success"),t.showPopup=!1):t.toast(e.msg)}))},addBuy:function(){this.showPopup=!0,this.type="buy"},addCart:function(){this.showPopup=!0,this.type="cart"},love:function(){var t=this,e=this.data,i=e._id,a=e.name,n=e.price,o=e.img,s=this.$store.getters.uid,c=this.is_fav;this.$api.fav({uid:s,is_fav:c,name:a,price:n,img:o,goods_id:i}).then((function(e){console.log(e),1==e.code?(t.toast(e.msg,"success"),t.is_fav=t.is_fav?0:1):t.toast(e.msg)}))},getDetail:function(){var t=this,e=this.goods_id,i=this.$store.getters.token;this.$api.getProductDatail({goods_id:e,uid:i}).then((function(e){t.data=e.data[0],t.fav=e.is_fav,0!=t.data.attr.length?(t.data.attr.forEach((function(t){t.checked=0})),t.getSku()):t.sku={price:t.data.price,text:["暂无规格"],stock:t.data.stock}}))},getcomment:function(){var t=this,e=this.goods_id;this.$api.getProductComment({goods_id:e,skip:0,limit:10}).then((function(e){t.comment=e.data,t.commentCount=e.count}))},getSku:function(){var t=this.data.attr.map((function(t){return t.values[t.checked].text})).join();this.sku=this.data.table.find((function(e){return e.text.join()==t}))},changeSku:function(t,e){this.data.attr[t].checked=e,this.$forceUpdate(),this.getSku()}}};e.default=a},"143a":function(t,e,i){t.exports=i.p+"static/img/youxuan.3ea99230.png"},"166a":function(t,e,i){var a=i("ebca");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("41eb1d9c",a,!0,{sourceMap:!1,shadowMode:!1})},"5f39":function(t,e,i){"use strict";i.r(e);var a=i("d226"),n=i("b039");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("f568");var s,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"5e2ba110",null,!1,a["a"],s);e["default"]=r.exports},b039:function(t,e,i){"use strict";i.r(e);var a=i("07b2"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},d226:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"back"},[a("v-uni-text",{staticClass:"icon icon-xiangzuojiantou"})],1),a("v-uni-view",{staticClass:"title"},[a("v-uni-view",[t._v("商品")]),a("v-uni-view",[t._v("评价")]),a("v-uni-view",[t._v("详情")])],1),a("v-uni-view",{staticClass:"share"},[a("v-uni-text",{staticClass:"icon icon-fenxiang"})],1)],1),a("v-uni-view",{staticClass:"main"},[a("v-uni-view",{staticClass:"swiper-container"},[a("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":"true","indicator-color":"#fff",autoplay:"true"}},t._l(t.data.banner,(function(t,e){return a("v-uni-swiper-item",{key:e},[a("v-uni-image",{attrs:{src:t}})],1)})),1)],1),a("v-uni-view",{staticClass:"box"},[a("v-uni-view",{staticClass:"goods-price"},[a("v-uni-text",{staticClass:"price"},[t._v("￥"),a("v-uni-text",[t._v(t._s(t.data.price))]),t._v(".00")],1),a("v-uni-text",{staticClass:"old-price"},[t._v("￥"+t._s(t.data.old_price))])],1),a("v-uni-view",{staticClass:"goods-title"},[t._v(t._s(t.data.name))]),a("v-uni-view",{staticClass:"info"},[a("v-uni-text",[t._v("快递: 包邮")]),a("v-uni-text",[t._v("销量: "+t._s(t.data.sales))])],1)],1)],1),a("v-uni-view",{staticClass:"evaluate"},[a("v-uni-view",{staticClass:"title"},[a("v-uni-view",{staticClass:"label"},[a("v-uni-text",[t._v("评价")]),a("v-uni-text",[t._v(t._s(t.commentCount))])],1),a("v-uni-view",{staticClass:"more"},[a("v-uni-text",[t._v("查看更多")]),a("v-uni-text",{staticClass:"icon icon-pull-left"})],1)],1),a("v-uni-view",{staticClass:"lists"},t._l(t.comment,(function(e){return a("v-uni-view",{key:e._id,staticClass:"box bottom"},[a("v-uni-view",{staticClass:"box-title "},[a("v-uni-image",{attrs:{src:i("143a"),mode:""}}),a("v-uni-text",[t._v(t._s(e.username))])],1),a("v-uni-view",{staticClass:"box-content"},[a("v-uni-text",{staticClass:"line-3"},[t._v(t._s(e.content))])],1),t._l(e.img,(function(t,e){return a("v-uni-view",{key:e,staticClass:"box-images"},[a("v-uni-image",{attrs:{src:t,mode:""}})],1)}))],2)})),1)],1),a("v-uni-view",{staticClass:"detail"},[a("v-uni-view",{staticClass:"title"},[a("v-uni-text",[t._v("图文详情")])],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-rich-text",{attrs:{nodes:t.data.desc}})],1)],1),a("v-uni-view",{staticClass:"nav-footer"},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.love.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"icon icon-love",class:t.is_fav?"active":""}),a("v-uni-text",[t._v("收藏")])],1),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCart.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"icon icon-cart"}),a("v-uni-text",[t._v("购物车")])],1),a("v-uni-view",[a("v-uni-text",{staticClass:"icon icon-kefu"}),a("v-uni-text",[t._v("客服")])],1),a("v-uni-button",{staticClass:"btn btn-cart",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addCart.apply(void 0,arguments)}}},[t._v("加入购物车")]),a("v-uni-button",{staticClass:"btn btn-buy",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addBuy.apply(void 0,arguments)}}},[t._v("立即购买")])],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],staticClass:"popup"},[a("v-uni-view",{staticClass:"mask"}),a("v-uni-view",{staticClass:"popup-content"},[a("v-uni-text",{staticClass:"close icon icon-cuowu",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPopup=!1}}}),a("v-uni-view",{staticClass:"popup-header"},[a("v-uni-view",{staticClass:"images"},[a("v-uni-image",{attrs:{src:t.data.img}})],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(t.sku.price))]),a("v-uni-view",{staticClass:"sku-info"},[t._v(t._s(t.sku.text))])],1)],1),a("v-uni-view",{staticClass:"popup-body"},t._l(t.data.attr,(function(e,i){return a("v-uni-view",{key:i,staticClass:"sku-row"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(e.text))]),t._l(e.values,(function(n,o){return a("v-uni-view",{key:o,staticClass:"sku",class:e.checked==o?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSku(i,o)}}},[t._v(t._s(n.text))])}))],2)})),1),a("v-uni-view",{staticClass:"popup-footer"},[a("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buy.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1)},o=[]},ebca:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* COOL-UNI 颜色变量 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.header[data-v-5e2ba110]{height:%?90?%;width:100%;position:fixed;top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;z-index:1000}.header .back[data-v-5e2ba110],\r\n.header .share[data-v-5e2ba110]{width:%?60?%;height:%?60?%;margin:0 %?20?%;background-color:rgba(0,0,0,.2);border-radius:50%;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.header .back .icon[data-v-5e2ba110],\r\n.header .share .icon[data-v-5e2ba110]{font-size:%?28?%}.header .title[data-v-5e2ba110]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1}.header .title uni-view[data-v-5e2ba110]{-webkit-box-flex:0;-webkit-flex:0 0 33.33%;flex:0 0 33.33%;text-align:center}.swiper-container[data-v-5e2ba110]{width:100%;height:%?700?%}.swiper-container .swiper[data-v-5e2ba110]{height:100%}.swiper-container .swiper uni-image[data-v-5e2ba110]{width:100%;height:100%}.main .box[data-v-5e2ba110]{background-color:#fff;padding:%?30?% %?20?%;border-bottom-left-radius:%?24?%;border-bottom-right-radius:%?24?%}.main .goods-price .price[data-v-5e2ba110]{color:#e13031}.main .goods-price .price uni-text[data-v-5e2ba110]{font-size:%?60?%}.main .goods-price .old-price[data-v-5e2ba110]{color:#ccc;font-size:%?24?%;margin-left:%?20?%;text-decoration:line-through}.main .goods-title[data-v-5e2ba110]{color:#333;font-weight:700}.main .info[data-v-5e2ba110]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?24?%;color:#ccc;margin-top:%?30?%}.evaluate[data-v-5e2ba110]{background-color:#fff;margin:%?32?% 0;border-radius:%?24?%;padding:%?24?%}.evaluate .title[data-v-5e2ba110]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.evaluate .title .label[data-v-5e2ba110]{font-size:%?28?%}.evaluate .title .label uni-text[data-v-5e2ba110]{margin-right:%?10?%}.evaluate .title .more[data-v-5e2ba110]{font-size:%?24?%;color:#ccc}.evaluate .title .more .icon[data-v-5e2ba110]{font-size:%?24?%}.evaluate .lists[data-v-5e2ba110]{margin:%?32?% 0}.evaluate .lists .box[data-v-5e2ba110]{font-size:%?28?%;margin-bottom:%?32?%}.evaluate .lists .box .box-title[data-v-5e2ba110]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?32?%}.evaluate .lists .box .box-title uni-image[data-v-5e2ba110]{width:%?60?%;height:%?60?%;border-radius:50%;margin-right:%?20?%}.evaluate .lists .box .box-images[data-v-5e2ba110]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin:%?16?% 0}.evaluate .lists .box .box-images uni-image[data-v-5e2ba110]{width:%?160?%;height:%?160?%;margin:%?10?%;-webkit-box-flex:1;-webkit-flex:1;flex:1}.detail[data-v-5e2ba110]{background-color:#fff;border-radius:%?24?%;margin:%?16?% 0;padding:%?32?% 0}.detail .title[data-v-5e2ba110]{padding:0 %?32?%}.detail .content[data-v-5e2ba110]{width:100%;margin-top:%?32?%}.nav-footer[data-v-5e2ba110]{background-color:#fff;position:fixed;bottom:0;left:0;right:0;display:-webkit-box;display:-webkit-flex;display:flex;height:%?90?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.nav-footer uni-view[data-v-5e2ba110]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;flex:1}.nav-footer uni-view uni-text[data-v-5e2ba110]{font-size:12px}.nav-footer .icon[data-v-5e2ba110]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?48?%;text-align:center}.nav-footer .active[data-v-5e2ba110]{color:#e13031}.nav-footer .btn[data-v-5e2ba110]{height:%?80?%;width:%?200?%;color:#fff;border-radius:%?40?%;font-size:%?28?%;margin-right:%?32?%;line-height:%?80?%}.nav-footer .btn-buy[data-v-5e2ba110]{background-color:#e13031}.nav-footer .btn-cart[data-v-5e2ba110]{background-color:#ffc30d}.popup .mask[data-v-5e2ba110]{position:absolute;left:0;top:0;bottom:0;right:0;background-color:rgba(0,0,0,.3);z-index:10000}.popup .popup-content[data-v-5e2ba110]{position:fixed;background:#fff;bottom:0;z-index:100001;left:0;reght:0;border-top-left-radius:%?24?%;border-top-right-radius:%?24?%;width:100%}.popup .popup-content .close[data-v-5e2ba110]{position:absolute;color:#ccc;font-size:%?48?%;right:%?32?%;top:%?32?%}.popup .popup-content .popup-header[data-v-5e2ba110]{margin:0 %?32?%;padding:%?20?% 0;display:-webkit-box;display:-webkit-flex;display:flex}.popup .popup-content .popup-header .images[data-v-5e2ba110]{width:%?200?%;height:%?200?%}.popup .popup-content .popup-header .images uni-image[data-v-5e2ba110]{width:100%;height:100%}.popup .popup-content .popup-header .info[data-v-5e2ba110]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding:%?24?% %?40?% %?24?% 0}.popup .popup-content .popup-header .info .price[data-v-5e2ba110]{color:#e13031;font-size:%?60?%}.popup .popup-content .popup-header .info .sku-info[data-v-5e2ba110]{color:#999;font-size:%?24?%;margin-top:%?16?%}.popup .popup-content .popup-body[data-v-5e2ba110]{margin-top:%?24?%}.popup .popup-content .popup-body .sku-row[data-v-5e2ba110]{margin:0 %?32?% %?24?%}.popup .popup-content .popup-body .sku-row .title[data-v-5e2ba110]{padding-bottom:%?24?%}.popup .popup-content .popup-body .sku-row .sku[data-v-5e2ba110]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0 %?24?% %?24?% 0;font-size:%?24?%;background-color:#f1f1f1;border-radius:%?8?%;padding:%?8?% %?16?%}.popup .popup-content .popup-body .sku-row .active[data-v-5e2ba110]{background-color:#e13031;color:#fff}.popup .popup-content .popup-footer[data-v-5e2ba110]{margin:%?32?%}.popup .popup-content .popup-footer .btn[data-v-5e2ba110]{background-color:#e13031;color:#fff;border-radius:%?120?%}',""]),t.exports=e},f568:function(t,e,i){"use strict";var a=i("166a"),n=i.n(a);n.a}}]);